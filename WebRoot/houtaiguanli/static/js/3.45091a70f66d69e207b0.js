webpackJsonp([3],{Fww0:function(t,e){},YOds:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("mtWM"),n=a.n(s),l={name:"jigou",inject:["reload"],data:function(){return{shifou:!1,watchHand:!1,input1:"",input2:"",currentPage:1,total:100,pagesize:7,currpage:1,defaultProps:{label:"dept_name",children:"children"},tableData:[],data:[]}},methods:{handleNodeClick:function(t,e){this.watchHand=!0,console.log(t,e),this.input2=t.dept_name,localStorage.setItem("tid",t.id);var a=this,s=new FormData;s.append("id",t.id),console.log(s,"formdata"),n.a.post(this.baseUrl+"/ydjxzg/ht/getbumenry.action",s).then(function(t){console.log(t),"无人员"==t.data.bmry?(a.tableData="",a.total=0):(a.tableData=t.data.bmry,a.total=t.data.bmry.length)})},tj:function(t){this.$refs.tmask.style.display="block"},quxiao1:function(t){this.$refs.tmask.style.display="none"},bj:function(t){this.$refs.bmask.style.display="block"},quxiao2:function(t){this.$refs.bmask.style.display="none"},sc:function(t){this.$refs.smask.style.display="block"},quxiao3:function(t){this.$refs.smask.style.display="none"},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.pagesize=t},handleCurrentChange:function(t){console.log("当前页: "+t),this.currpage=t},tqd:function(){var t=this,e=this.$refs.tj.value,a=localStorage.getItem("tid"),s=new FormData;s.append("dept_name",e),s.append("parent_id",a),""==e||null==e?t.$message.error("添加内容不能为空"):n.a.post(this.baseUrl+"/ydjxzg/ht/gotargetadd.action",s).then(function(e){console.log(e),t.$refs.tmask.style.display="none",1==e.data.mess?(t.$message.success("添加成功"),t.reload()):t.$message.error("添加失败")})},bqd:function(){var t=this,e=this.$refs.bj.value,a=localStorage.getItem("tid"),s=new FormData;s.append("dept_name",e),s.append("id",a),""==e||null==e?t.$message.error("编辑内容不能为空"):n.a.post(this.baseUrl+"/ydjxzg/ht/editorganiza.action",s).then(function(e){console.log(e),t.$refs.bmask.style.display="none",1==e.data.mess?(t.$message.success("编辑成功"),t.reload()):t.$message.error("编辑失败")})},sqd:function(){var t=this,e=localStorage.getItem("tid"),a=new FormData;a.append("id",e),n.a.post(this.baseUrl+"/ydjxzg/ht/deleteOrganiza.action",a).then(function(e){console.log(e),t.$refs.smask.style.display="none",1==e.data.mess?(t.$message.success("删除成功"),t.reload()):0==e.data.mess?t.$message.error("删除失败"):t.$message.error(e.data.mess)})},getTreeList:function(){var t=this;n.a.post(this.baseUrl+"/ydjxzg/ht/getbumenry.action",{}).then(function(e){console.log(e),"无人员"==e.data.bmry?(t.tableData="",t.total=0):(t.tableData=e.data.bmry,t.total=e.data.bmry.length)})}},created:function(){this.getTreeList()},mounted:function(){var t=this;n.a.post(this.baseUrl+"/ydjxzg/ht/organizalist.action").then(function(e){console.log(e),t.data=e.data.standardlist})}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"all"},[a("div",{staticClass:"back"},[a("div",{staticClass:"change"},[a("ul",[a("li",{on:{click:t.tj}},[a("i",{staticClass:"el-icon-plus"}),t._v(" 添加")]),t._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:t.watchHand,expression:"watchHand"}],on:{click:t.bj}},[a("i",{staticClass:"el-icon-edit-outline"}),t._v(" 编辑")]),t._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:t.watchHand,expression:"watchHand"}],on:{click:t.sc}},[a("i",{staticClass:"el-icon-delete"}),t._v(" 删除")])])]),t._v(" "),a("el-tree",{ref:"tree",staticClass:"tree",attrs:{"highlight-current":!0,data:t.data,"node-key":"id","expand-on-click-node":!1,props:t.defaultProps},on:{"node-click":t.handleNodeClick}})],1),t._v(" "),a("div",{staticClass:"table2"},[a("div",[a("el-table",{staticStyle:{width:"95%",margin:"5px auto"},attrs:{data:t.tableData.slice((t.currpage-1)*t.pagesize,t.currpage*t.pagesize)}},[a("el-table-column",{attrs:{label:"姓名",width:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"性别",width:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(1==e.row.gender?"男":"女"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"手机号",width:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.mobile))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"微信号",width:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.wx_num))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"职务",width:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.zw))])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[2,3,5,7],"page-size":t.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]),t._v(" "),a("div",{ref:"tmask",staticClass:"tmask"},[a("div",{staticClass:"tj"},[a("h3",[t._v("添加学校机构")]),t._v(" "),a("el-input",{ref:"tj",staticClass:"input",attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.input1,callback:function(e){t.input1=e},expression:"input1"}}),a("br"),t._v(" "),a("el-button",{staticClass:"btn1",on:{click:t.quxiao1}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.tqd}},[t._v("确定")])],1)]),t._v(" "),a("div",{ref:"bmask",staticClass:"bmask"},[a("div",{staticClass:"bj"},[a("h3",[t._v("编辑标准分类")]),t._v(" "),a("el-input",{ref:"bj",staticClass:"input2",attrs:{placeholder:"编辑内容(默认操作第一个学校机构)",clearable:""},model:{value:t.input2,callback:function(e){t.input2=e},expression:"input2"}}),a("br"),t._v(" "),a("el-button",{staticClass:"btn2",on:{click:t.quxiao2}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.bqd}},[t._v("确定")])],1)]),t._v(" "),a("div",{ref:"smask",staticClass:"smask"},[a("div",{staticClass:"sc"},[a("h3",[t._v("确认删除此标准吗")]),t._v(" "),a("el-button",{staticClass:"btn3",on:{click:t.quxiao3}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.sqd}},[t._v("确定")])],1)])])},staticRenderFns:[]};var o=a("VU/8")(l,i,!1,function(t){a("Fww0")},"data-v-c7705fc6",null);e.default=o.exports}});
//# sourceMappingURL=3.45091a70f66d69e207b0.js.map